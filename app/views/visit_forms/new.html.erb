
<div class="containernewvisit">
  <h1 class="titre-form">Ajoute ta demande de visite !</h1>
    <div class="form">
        <%= simple_form_for [@visit_form], html: { class: 'visit-form' } do |f| %>
          <%= f.input :title, label: 'Nom de la visite' %>
          <%= f.input :url, label: "Lien vers l'annonce" %>
          <%= f.input :rooms_number, label: 'Nombre de pièces' %>
          <div>
          <%= f.input :address, label: 'Adresse de la visite',
                input_html: {data: {address_autocomplete_target: "address"}, class: "d-none"},
                wrapper_html: {data: {controller: "address-autocomplete", address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}}%>
          </div>
          <%= f.input :description, label: 'Description' , input_html: { rows: 3 }, placeholder: "", input_html: { class: 'custom-placeholder' }%>
          <div id="criteres">
            <%= f.simple_fields_for :criteres do |critere|%>
              <%= render 'critere_fields', f: critere %>
            <%end%>
            <span class="ajout-btn">
              <%= link_to_add_association '<i class="fa-solid fa-plus"></i> Ajouter un critère'.html_safe, f, :criteres%>
            </span>
          </div>
          <%= f.button :submit, 'Ajouter la visite', class: 'btn-submit' %>
        <% end %>
    </div>
</div>

<%# ajout flatpicker
, as: :string, input_html: { data: { controller: "datepicker" } } %>
